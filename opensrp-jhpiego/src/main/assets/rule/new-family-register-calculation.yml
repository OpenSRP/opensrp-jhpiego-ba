---
name: step2_surname
description: surname calculation
condition: "true"
actions:
  - "calculation = step1_fam_name != '' ? step1_fam_name : ''"

---
name: step2_age_calculated
description: age_calculated
conditions: "step2_dob_entered != ''"
actions:
  - "calculation = helper.formatDate('today', 'y') - helper.formatDate(step2_dob_entered, 'y')"

---
name: step2_dob_calculated
description: dob_calculated calculation
condition: "step2_age != ''"
actions:
  - "calculation = helper.formatDate('today', 'y') - step2_age"

---
name: step2_dob
description: dob calculation
condition: "true"
actions:
  - "calculation = step2_dob_entered == '' ? step2_dob_calculated : helper.formatDate(step2_dob_entered, 'y') "

---
name: step2_age
description: age calculation
condition: "true"
actions:
  - "calculation = step2_dob_entered == '' ? step2_age_entered ? step2_age_calculated"

---
name: step2_wra
description: wra calculation
condition: "step2_sex == 'Female'"
actions:
  - "calculation = ( (step2_dob_entered != '' && (helper.formatDate(step2_dob_entered, 'y') >= 15 && helper.formatDate(step2_dob_entered, 'y') <= 49)) || ( step2_age != '' && (step2_age >= 15 && step2_age <= 49)) ) ? '1' : '0'"

---
name: step2_mra
description: mra calculation
condition: "step2_sex == 'Male'"
actions:
  - "calculation = ( (step2_dob_entered != '' && (helper.formatDate(step2_dob_entered, 'y') >= 15 && helper.formatDate(step2_dob_entered, 'y') <= 59)) || ( step2_age != '' && (step2_age >= 15 && step2_age <= 59)) ) ? '1' : '0'"